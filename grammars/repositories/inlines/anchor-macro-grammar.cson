key: 'anchor-macro'

patterns: [

  # Matches an anchor (i.e., id + optional reference text) in the flow of text.
  #
  # Examples
  #
  #   [[idname]]
  #   [[idname,Reference Text]]
  #
  match: '\\\\?(?:(\\[{2})([\\p{Alpha}:_][\\p{Word}:.-]*)(?:,\\p{Blank}*(\\S.*?))?(\\]{2}))'
  captures:
    1: name: 'punctuation.definition.entity.asciidoc'
    2: name: 'markup.blockid.asciidoc'
    4: name: 'punctuation.definition.entity.asciidoc'
,
  # Matches an anchor (i.e., id + optional reference text) in the flow of text.
  #
  # Examples
  #
  #   anchor:idname[]
  #   anchor:idname[Reference Text]
  #
  match: '\\\\?(anchor:)(\\S+)(\\[)(.*?[^\\\\])?(\\])'
  captures:
    1: name: 'punctuation.definition.entity.asciidoc'
    2: name: 'markup.blockid.asciidoc'
    3: name: 'punctuation.definition.entity.asciidoc'
    4: name: 'punctuation.definition.entity.asciidoc'
    5: name: 'punctuation.definition.entity.asciidoc'
]
